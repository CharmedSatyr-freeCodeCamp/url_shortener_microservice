<!DOCTYPE html>
<html lang="en-US">

<!-- HEAD START -->
<head>
  <title>op.pe</title>
  <meta charset='UTF-8' />
  <meta name='viewport' content='width=device-width, initial-scale=1'/>
  <meta name='description' content='op.pe is a URL Shortener Microservice developed by CharmedSatyr. I am available for hire! Visit https://charmed.tech for more information.'/>
  <!-- The stylesheet is served relative to the path set by express.static -->
  <link rel='stylesheet' type='text/css' href='/style.min.css' />
  <link rel='shortcut icon' type='image/x-icon' href='/favicon.ico' />
</head>
<!-- HEAD END -->

<!-- BODY START -->
<body>
  <!-- HEADER START -->
  <div class='container-fluid well'>
    <header class='page-header'>
      <h1>op.pe <small>a URL Shortener Microservice</small></h1>
    </header>
  </div>
  <!-- HEADER END -->

  <!-- MAIN START -->
  <main class='container-fluid'>
    
    <!-- HOME PAGE START -->
    {{#home}}
    <section class='container-fluid'>
      <div class='row'>
        <div class='col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3'>
          <form class='form-group' action='/new' method='POST'>
            <label for='default'>
              <h3>Paste a link into the box and click.</h3>
            </label>
            <div class='input-group'>
              <input type='text' id='default' class='form-control' placeholder='https://www.example.com/' name='url_entry'></input>
              <span class='input-group-btn'>
                <button type='submit' class='btn btn-primary'>
                  <span class="glyphicon glyphicon-scissors"></span>Shorten
                </button>
              </span>
            </div>
          </form>
        </div>
      </div>
    </section>
    {{/home}} 
    <!-- HOME PAGE END -->
    
    <!-- LINKS PAGE START -->
    {{#links}}
    <section class='container-fluid'>
      <div class='row'>
        <div class='col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3'>
          <div class='panel panel-info'>
            <div class='panel-heading'>
              <div class='panel-title'>
                <h3>Original URL</h3>
              </div>
            </div>
            <div class='panel-body'>
              <h3><code>{{long_url}}</code></h3>
            </div>
          </div>
        </div>
      </div>
      <div class='row'>
        <div class='col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3'>
          <div class='panel panel-success'>
            <div class='panel-heading'>
              <div class='panel-title'>
                <h3>Shortened URL</h3>
              </div>
            </div>
            <div class='panel-body'>
              <h3><code>op.pe/{{short_url}}</code></h3>
            </div>
          </div>
        </div>
      </div>
      <br/>
      <span class='input-group-btn'>
        <a href='/'>
          <button class='btn btn-success'>
            <span class="glyphicon glyphicon-scissors"></span>Shorten another link
          </button>
        </a>
      </span>
    </section>
    {{/links}}
    <!-- LINKS PAGE END -->
    
    <!-- ERROR PAGE START -->
    {{#error}}
    <section class='container-fluid'>
      <div class='row'>
        <div class='col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3'>
          <form class='form-group' action='/new' method='POST'>
            <label for='error'>
              <h3 class='err-color'>Hmm... It looks like there's a problem.</h3>
            </label>
            <div class='input-group has-error'>
              <input type='text' id='error' class='form-control' placeholder='https://www.example.com/' name='url_entry'></input>
              <span class='input-group-btn'>
                <button type='submit' class='btn btn-primary'>
                  <span class="glyphicon glyphicon-scissors"></span>Shorten
                </button>
              </span>
            </div>
          </form>
        </div>
      </div>
      <br/>
      <div class='row'>
        <div class='col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3'>
          <div class='alert alert-danger'>
          <p>To save a new address, paste the <strong>full</strong> URL you'd like shortened (e.g., <code>https://www.example.com/</code>) into the input box, and click the button!</p>
          <p>A link will appear that redirects to the address you typed.</p>
          </div>
        </div>
      </div>
    </section> 
    {{/error}}
    <!-- ERROR PAGE END -->

    <!-- BLOCKED PAGE START -->
    {{#blocked}}
    <section class='container-fluid'>
              <h3 class='err-color'>Hmm... It looks like there's a problem.</h3>
      <div class='row'>
        <div class='col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3'>
          <div class='alert alert-danger'>
            <p>The following URL has been blocked due to abuse:</p>
            <p><code>{{long_url}}</code></p>
            <p>If you believe there has been an error, please file an issue report <a href='https://github.com/charmedsatyr/url_shortener_microservice/issues' rel='noopener noreferrer' target='_blank'>here</a>.</p>
          </div>
        </div>
      </div>
      <div class='row'>
        <div class='col-lg-4 col-lg-offset-4'>
          <a href='/'>
            <button class='btn btn-primary'>
              <span class="glyphicon glyphicon-scissors"></span>Shorten another link
            </button>
          </a>
        </div>
      </div>
    </section>
    {{/blocked}}
    <!-- BLOCKED PAGE END -->

  </main>
  <!-- MAIN END -->

  <!-- FOOTER START -->
  <footer class='container-fluid'>
    <div class='navbar navbar-fixed-bottom'>
      <h3><small>source code available on&#32;<a href="https://github.com/charmedsatyr/url_shortener_microservice.git" target="_blank" rel='noopener noreferrer'>GitHub</a></h3>
    </div>
  </footer>
  <!-- FOOTER END -->
</body>
<!-- BODY END -->

</html>
